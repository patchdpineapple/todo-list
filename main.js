(()=>{"use strict";class e{constructor(e,t){this.name=e,this.id=t,this.tasks=[]}get name(){return this._name}set name(e){this._name=e}}class t{constructor(e,t,r,d){this.title=e,this.description=t,this.date=r,this.priority=d}get title(){return this._title}set title(e){this._title=e}get description(){return this._description}set description(e){this._description=e}get date(){return this._date}set date(e){this._date=e}get priority(){return this._priority}set priority(e){this._priority=e}}const r={projects:[]},d=function(){function e(e){const d=document.getElementById("todo_container");d.setAttribute("data-id",e);const o=document.createElement("div");o.classList.add("add_todo_wrapper"),o.classList.add("parent_wrapper"),o.setAttribute("data-id",d.getAttribute("data-id"));const c=document.createElement("p");c.classList.add("add_todo_label");const n=document.createElement("strong");n.textContent=r.projects[e].name,c.append(n),o.append(c);const i=document.createElement("div");i.classList.add("add_todo_buttons_wrapper");const l=document.createElement("div");l.classList.add("add_todo_button"),l.classList.add("btn"),l.textContent="+new task",l.addEventListener("click",(()=>{document.querySelector(".add_todo_form").reset(),document.querySelector(".dim_screen_container").classList.remove("hide"),document.querySelector(".add_todo_form_container").classList.remove("hide")}));const u=document.createElement("div");u.classList.add("add_todo_delete_button"),u.classList.add("btn"),u.textContent="-",u.addEventListener("click",(e=>{const r=e.target.closest(".parent_wrapper").getAttribute("data-id");a(),document.querySelector(`.projects_item_wrapper[data-id="${r}"]`).remove(),s(r),t()})),i.append(l),i.append(u),o.append(i),d.append(o)}function t(){document.getElementById("todo_container").setAttribute("data-id","all"),0===document.getElementById("todo_container").children.length&&console.log("displaying all tasks");const e=document.getElementById("todo_container"),t=document.createElement("div");t.classList.add("add_todo_wrapper");const o=document.createElement("p");o.classList.add("add_todo_label");const a=document.createElement("strong");a.textContent="All Tasks",o.append(a),t.append(o),e.append(t);for(let e=0;e<r.projects.length;e++)d(e)}function d(t){for(let s=0;s<r.projects[t].tasks.length;s++){const c=document.getElementById("todo_container"),n=document.createElement("div"),i=document.createElement("div"),l=document.createElement("div"),u=document.createElement("div"),p=document.createElement("img"),m=document.createElement("p"),_=document.createElement("p"),y=document.createElement("div"),k=document.createElement("img");switch(n.classList.add("todo_item_wrapper"),n.classList.add("parent_wrapper"),i.classList.add("todo_item_wrapper2"),l.classList.add("todo_item_wrapper3"),u.classList.add("todo_item_complete_button"),m.classList.add("todo_item_label"),_.classList.add("todo_item_date"),y.classList.add("todo_item_edit_button"),p.setAttribute("src","https://s.svgbox.net/hero-outline.svg?ic=badge-check&fill=000"),p.setAttribute("width","20"),p.setAttribute("height","20"),k.setAttribute("src","https://s.svgbox.net/hero-outline.svg?ic=dots-horizontal&fill=000"),k.setAttribute("width","32"),k.setAttribute("height","32"),m.textContent=r.projects[t].tasks[s].title,_.textContent=r.projects[t].tasks[s].date,r.projects[t].tasks[s].priority){case"1":n.setAttribute("style","background-color: hsla(0, 100%, 50%, 0.7);");break;case"2":n.setAttribute("style","background-color: orange");break;case"3":n.setAttribute("style","background-color: yellow");break;case"4":n.setAttribute("style","background-color: white")}n.setAttribute("data-id",t),n.setAttribute("data-taskid",s),u.setAttribute("data-taskid",s),p.setAttribute("data-taskid",s),k.setAttribute("data-taskid",s),u.addEventListener("click",(t=>{const r=t.target.closest(".parent_wrapper").getAttribute("data-id"),s=t.target.closest(".todo_item_wrapper").getAttribute("data-taskid");console.log(r+" "+s),o.deleteTask(r,s),t.target.closest(".todo_item_wrapper").remove(),a(),e(r),d(r)})),m.addEventListener("click",(e=>{const t=e.target.closest(".parent_wrapper").getAttribute("data-id"),d=e.target.closest(".parent_wrapper").getAttribute("data-taskid");document.querySelector(".dim_screen_container").classList.remove("hide"),document.querySelector(".see_task_wrapper").classList.remove("hide"),document.querySelector(".see_project").textContent=`Project: ${r.projects[t].name}`,document.querySelector(".see_name").textContent=r.projects[t].tasks[d].title,document.querySelector(".see_description").textContent=r.projects[t].tasks[d].description,document.querySelector(".see_date").textContent=r.projects[t].tasks[d].date,document.querySelector(".see_priority").textContent=r.projects[t].tasks[d].priority,document.querySelector(".see_task_wrapper").setAttribute("data-id",t),document.querySelector(".see_task_wrapper").setAttribute("data-taskid",d)})),y.addEventListener("click",(e=>{const t=e.target.closest(".parent_wrapper").getAttribute("data-id"),r=e.target.closest(".todo_item_wrapper").getAttribute("data-taskid");document.querySelector(".edit_task").reset(),document.querySelector(".dim_screen_container").classList.remove("hide"),document.querySelector(".edit_task_wrapper").classList.remove("hide"),document.querySelector(".edit_task_wrapper").setAttribute("data-id",t),document.querySelector(".edit_task_wrapper").setAttribute("data-taskid",r)})),c.append(n),n.append(i),n.append(y),i.append(l),i.append(_),l.append(u),l.append(m),u.append(p),y.append(k)}}function a(){document.getElementById("todo_container").setAttribute("data-id","none"),document.querySelector(".add_todo_wrapper")&&document.querySelector(".add_todo_wrapper").remove(),document.querySelectorAll(".todo_item_wrapper").forEach((e=>{e.remove()}))}function s(e){r.projects.splice(e,1),o.updateProjectId()}return{displayProjects:function o(){document.querySelector(".all_project_items_wrapper").remove();const c=document.createElement("div");c.classList.add("all_project_items_wrapper");for(let n=0;n<r.projects.length;n++){const i=document.createElement("div");i.classList.add("projects_item_wrapper"),i.classList.add("parent_wrapper"),i.setAttribute("data-id",r.projects[n].id);const l=document.createElement("p");l.classList.add("projects_item_label"),l.textContent=r.projects[n].name,l.addEventListener("click",(t=>{a(),e(t.target.closest(".parent_wrapper").getAttribute("data-id")),d(t.target.closest(".parent_wrapper").getAttribute("data-id"))}));const u=document.createElement("div");u.classList.add("projects_item_delete_button"),u.classList.add("btn"),u.textContent="-",u.setAttribute("data-id",r.projects[n].id),u.addEventListener("click",(r=>{const c=r.target.closest(".parent_wrapper").getAttribute("data-id"),n=document.getElementById("todo_container").getAttribute("data-id");if(s(c),o(),"all"==n)a(),t();else if(c===n)a(),t();else if(Number(c)<Number(n)){const t=(Number(n)-1).toString();a(),e(t),d(t)}})),i.append(l),i.append(u),c.append(i)}document.getElementById("projects_container").append(c)},deleteProject:s,removeTasks:a,displayAllTask:d,displayTodoProjectName:e,displayDefault:t}}(),o={addProject:function(){const t=document.querySelector(".project_name_input").value;""!=t&&r.projects.push(new e(t,r.projects.length))},addTask:function(e){const d=document.querySelector(".todo_name").value,o=document.querySelector(".todo_description").value,a=document.querySelector(".todo_date").value;let s="";document.querySelector(".todo_priority1").checked?s="1":document.querySelector(".todo_priority2").checked?s="2":document.querySelector(".todo_priority3").checked?s="3":document.querySelector(".todo_priority4").checked&&(s="4"),""!=d&&""!=o&&""!=a&&""!=s&&r.projects[e].tasks.push(new t(d,o,a,s))},updateProjectId:function(){if(0==r.projects.length)return;const e=document.querySelectorAll(".projects_item_wrapper");for(let t=0;t<r.projects.length;t++)r.projects[t].id=t,e[t].setAttribute("data-id",r.projects[t].id),console.log("updated")},deleteTask:function(e,t){r.projects[e].tasks.splice(t,1)},editTask:function(e){const t=e.target.closest(".parent_wrapper").getAttribute("data-id"),o=document.querySelector(".edit_task_wrapper").getAttribute("data-taskid");r.projects[t].tasks[o].title=document.querySelector(".edit_name").value,r.projects[t].tasks[o].description=document.querySelector(".edit_description").value,r.projects[t].tasks[o].date=document.querySelector(".edit_date").value;let a="";document.querySelector(".edit_priority1").checked?a="1":document.querySelector(".edit_priority2").checked?a="2":document.querySelector(".edit_priority3").checked?a="3":document.querySelector(".edit_priority4").checked&&(a="4"),r.projects[t].tasks[o].priority=a,d.removeTasks(),d.displayTodoProjectName(t),d.displayAllTask(t),document.querySelector(".edit_task_wrapper").classList.add("hide"),document.querySelector(".dim_screen_container").classList.add("hide")}},a=function(){document.querySelector(".add_project_form_button").addEventListener("click",(()=>{o.addProject(),d.displayProjects(),document.querySelector(".dim_screen_container").classList.add("hide"),document.querySelector(".add_project_form_container").classList.add("hide")})),document.querySelector(".add_todo_form_button").addEventListener("click",(e=>{const t=document.getElementById("todo_container").getAttribute("data-id");o.addTask(t),d.removeTasks(),d.displayTodoProjectName(t),d.displayAllTask(t),document.querySelector(".dim_screen_container").classList.add("hide"),document.querySelector(".add_todo_form_container").classList.add("hide")})),document.querySelector(".add_projects_button").addEventListener("click",(()=>{document.querySelector(".add_project_form").reset(),document.querySelector(".dim_screen_container").classList.remove("hide"),document.querySelector(".add_project_form_container").classList.remove("hide")})),document.querySelector(".edit_task_button").addEventListener("click",(e=>{o.editTask(e)})),document.querySelector(".see_task_edit_button").addEventListener("click",(e=>{const t=document.querySelector(".see_task_wrapper").getAttribute("data-id"),r=document.querySelector(".see_task_wrapper").getAttribute("data-taskid");document.querySelector(".edit_task").reset(),document.querySelector(".see_task_wrapper").classList.add("hide"),document.querySelector(".edit_task_wrapper").classList.remove("hide"),document.querySelector(".edit_task_wrapper").setAttribute("data-id",t),document.querySelector(".edit_task_wrapper").setAttribute("data-taskid",r)})),document.querySelectorAll(".close_buttons").forEach((e=>{e.addEventListener("click",(e=>{e.target.closest(".parent_wrapper").classList.add("hide"),e.target.closest(".dim_screen_container").classList.add("hide")}))}))};window.data=r,a(),d.removeTasks(),d.displayProjects(),d.displayDefault()})();